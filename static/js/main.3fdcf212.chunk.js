(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{10:function(e,t,a){e.exports={Overlay:"Modal_Overlay__3NLG9",Modal:"Modal_Modal__2JMFl"}},12:function(e,t,a){e.exports={App:"App_App__3umpl"}},14:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__36msv"}},15:function(e,t,a){e.exports={Button:"Button_Button__3z1bF"}},22:function(e,t,a){},45:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(6),o=a.n(r),i=(a(22),a(3)),s=a(12),l=a.n(s),u=a(16),m=a(5),b=a.n(m),j=a(1),h=function(e){var t=e.onSubmit,a=Object(n.useState)(""),c=Object(i.a)(a,2),r=c[0],o=c[1],s=Object(n.useState)(1),l=Object(i.a)(s,2),m=l[0],h=l[1];return Object(j.jsx)("header",{className:b.a.Searchbar,children:Object(j.jsxs)("form",{className:b.a.SearchForm,onSubmit:function(e){e.preventDefault(),""!==r.trim()&&(t(r,m),o(""),h(1))},children:[Object(j.jsx)("button",{type:"submit",className:b.a.SearchFormButton,children:Object(j.jsx)(u.a,{style:{width:"25px",height:"30px",paddingTop:"3px"}})}),Object(j.jsx)("input",{className:b.a.SearchFormInput,name:"searchImgName",value:r,onChange:function(e){o(e.currentTarget.value.toLowerCase())},type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})]})})},f=a(17),g=a(11),d=a(13),p=a.n(d),O=(a(44),"https://pixabay.com/api/"),x=new URLSearchParams({key:"24464627-f47c997de86c962dcc3f2ff0b",image_type:"photo",orientation:"horizontal",per_page:12}),_=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return fetch("".concat(O,"?q=").concat(e,"&page=").concat(t,"&").concat(x)).then((function(e){return e.ok?e.json():Promise.reject(new Error("Something went wrong try again"))}))},S=a(9),I=a.n(S),y=function(e){var t=e.webformatURL,a=e.largeImageURL,n=e.text,c=e.onClick;return Object(j.jsx)("li",{className:I.a.ImageGalleryItem,children:Object(j.jsx)("img",{src:t,alt:n,className:I.a.ImageGalleryItem,onClick:function(){return c(a)}})})},v=a(10),w=a.n(v),k=document.querySelector("#modal-root"),F=function(e){var t=e.onClose,a=e.largeImg;Object(n.useEffect)((function(){return window.addEventListener("keydown",c),function(){window.removeEventListener("keydown",c)}}));var c=function(e){"Escape"===e.code&&t()};return Object(r.createPortal)(Object(j.jsx)("div",{className:w.a.Overlay,onClick:function(e){e.target===e.currentTarget&&t()},children:Object(j.jsx)("div",{className:w.a.modal,children:Object(j.jsx)("img",{src:a,alt:""})})}),k)},N=a(14),L=a.n(N),G={position:"fixed",left:"50%",top:"50%",transform:"translate(-50%, -50%)"},B=function(e){var t=e.searchImgName,a=e.page,c=e.children,r=Object(n.useState)(null),o=Object(i.a)(r,2),s=o[0],l=o[1],u=Object(n.useState)(null),m=Object(i.a)(u,2),b=m[0],h=m[1],d=Object(n.useState)(!1),O=Object(i.a)(d,2),x=O[0],S=O[1],I=Object(n.useState)(!1),v=Object(i.a)(I,2),w=v[0],k=v[1],N=Object(n.useState)(null),B=Object(i.a)(N,2),C=B[0],E=B[1];Object(n.useEffect)((function(){if(""!==t){S(!0),function(e,t){_(e,t).then((function(e){l((function(a){return 1===t?e.hits:[].concat(Object(g.a)(a),Object(g.a)(e.hits))}))})).catch((function(e){return h(e)})).finally((function(){S(!1)}))}(t,a)}}),[t,a]),Object(n.useEffect)((function(){if(!x)var e=setTimeout((function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"}),clearTimeout(e)}),250)}),[x]);var R=function(e){E(e),k(!0)};return Object(j.jsxs)(j.Fragment,{children:[b&&Object(j.jsx)("p",{children:b.message}),x&&Object(j.jsx)(p.a,{type:"Hearts",color:"#3F51B5",height:250,width:250,style:Object(f.a)({},G),timeout:3e3}),Object(j.jsx)("ul",{className:L.a.ImageGallery,children:s&&s.map((function(e){return Object(j.jsx)(y,{webformatURL:e.webformatURL,largeImageURL:e.largeImageURL,text:e.tags,onClick:R},e.id)}))}),w&&Object(j.jsx)(F,{onClose:function(){k(!1)},largeImg:C}),s&&s.length>11&&c]})},C=a(15),E=a.n(C),R=function(e){var t=e.onClick;return Object(j.jsx)("button",{type:"button",onClick:function(){return t()},className:E.a.Button,children:"Load more"})},U=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(1),o=Object(i.a)(r,2),s=o[0],u=o[1];return Object(j.jsxs)("div",{className:l.a.App,children:[Object(j.jsx)(h,{onSubmit:function(e,t){c(e),u(t)}}),a&&Object(j.jsx)(B,{searchImgName:a,page:s,children:Object(j.jsx)(R,{onClick:function(){u((function(e){return e+1}))}})})]})};o.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(U,{})}),document.getElementById("root"))},5:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__ER7SV",SearchForm:"Searchbar_SearchForm__dBAPT",SearchFormButton:"Searchbar_SearchFormButton__2-Q-v",SearchFormButtonLabel:"Searchbar_SearchFormButtonLabel__2dLka",SearchFormInput:"Searchbar_SearchFormInput__4nrNx"}},9:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__38X6O",ImageGalleryItemImage:"ImageGalleryItem_ImageGalleryItemImage__12UZQ"}}},[[45,1,2]]]);
//# sourceMappingURL=main.3fdcf212.chunk.js.map