{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/App/App.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.jsx","services/api.js","components/ImageGalleryItem/ImageGalleryItem.jsx","components/Modal/Modal.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","components/App/App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","SearchBar","onSubmit","useState","searchImgName","setSearchImgName","page","setPage","className","styles","Searchbar","SearchForm","event","preventDefault","trim","type","SearchFormButton","style","width","height","paddingTop","SearchFormInput","name","value","onChange","currentTarget","toLowerCase","autoComplete","autoFocus","placeholder","BASE_URL","searchParams","URLSearchParams","key","image_type","orientation","per_page","api","fetch","then","response","ok","json","Promise","reject","Error","ImageGalleryItem","webformatURL","largeImageURL","text","onClick","src","alt","modalRootRef","document","querySelector","Modal","onClose","largeImg","useEffect","window","addEventListener","onEscPress","removeEventListener","e","code","createPortal","Overlay","target","modal","loaderStyle","position","left","top","transform","ImageGallery","children","searchImages","setSearchImages","error","setError","loading","setLoading","isModalOpen","setIsModalOpen","setLargeImg","preveImages","hits","catch","err","finally","getImagesFromApi","getLargeImg","message","color","timeout","map","hit","tags","id","length","Button","App","prevPage","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.7b6e0b82.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__38X6O\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__12UZQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__3NLG9\",\"Modal\":\"Modal_Modal__2JMFl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__3umpl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__36msv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3z1bF\"};","import styles from './Searchbar.module.css';\nimport { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { ImSearch } from 'react-icons/im';\n\nconst SearchBar = ({ onSubmit }) => {\n  const [searchImgName, setSearchImgName] = useState('');\n  const [page, setPage] = useState(1);\n\n  const handelChange = event => {\n    setSearchImgName(event.currentTarget.value.toLowerCase());\n  };\n\n  const handelSubmit = event => {\n    event.preventDefault();\n    if (searchImgName.trim() === '') return;\n\n    onSubmit(searchImgName, page);\n    setSearchImgName('');\n    setPage(1);\n  };\n\n  return (\n    <header className={styles.Searchbar}>\n      <form className={styles.SearchForm} onSubmit={handelSubmit}>\n        <button type=\"submit\" className={styles.SearchFormButton}>\n          <ImSearch\n            style={{ width: '25px', height: '30px', paddingTop: '3px' }}\n          />\n        </button>\n\n        <input\n          className={styles.SearchFormInput}\n          name=\"searchImgName\"\n          value={searchImgName}\n          onChange={handelChange}\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search images and photos\"\n        />\n      </form>\n    </header>\n  );\n};\n\nSearchBar.propTypes = {\n  onSubmit: PropTypes.func,\n};\n\nexport default SearchBar;\n","const BASE_URL = 'https://pixabay.com/api/';\r\n\r\nconst searchParams = new URLSearchParams({\r\n  key: '24464627-f47c997de86c962dcc3f2ff0b',\r\n  image_type: 'photo',\r\n  orientation: 'horizontal',\r\n  per_page: 12,\r\n});\r\n\r\n//https://pixabay.com/api/?q=cat&page=1&key=your_key&image_type=photo&orientation=horizontal&per_page=12\r\n\r\nconst api = (searchImgName, page = 1) =>\r\n  fetch(`${BASE_URL}?q=${searchImgName}&page=${page}&${searchParams}`).then(\r\n    response => {\r\n      if (response.ok) {\r\n        return response.json();\r\n      }\r\n      return Promise.reject(new Error('Something went wrong try again'));\r\n    },\r\n  );\r\n\r\nexport default api;\r\n","import styles from './ImageGalleryItem.module.css';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst ImageGalleryItem = ({ webformatURL, largeImageURL, text, onClick }) => (\r\n  <li className={styles.ImageGalleryItem}>\r\n    <img\r\n      src={webformatURL}\r\n      alt={text}\r\n      className={styles.ImageGalleryItem}\r\n      onClick={() => onClick(largeImageURL)}\r\n    />\r\n  </li>\r\n);\r\n\r\nImageGalleryItem.propTypes = {\r\n  webformatURL: PropTypes.string,\r\n  largeImageURL: PropTypes.string,\r\n  text: PropTypes.string,\r\n  onClick: PropTypes.func,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import styles from './Modal.module.css';\nimport { createPortal } from 'react-dom';\nimport { useEffect } from 'react';\nimport PropTypes from 'prop-types';\n\nconst modalRootRef = document.querySelector('#modal-root');\n\nconst Modal = ({ onClose, largeImg }) => {\n  useEffect(() => {\n    window.addEventListener('keydown', onEscPress);\n\n    return () => {\n      window.removeEventListener('keydown', onEscPress);\n    };\n  });\n\n  const onEscPress = e => {\n    if (e.code === 'Escape') {\n      onClose();\n    }\n  };\n\n  const handleBackdropClick = e => {\n    if (e.target === e.currentTarget) {\n      onClose();\n    }\n  };\n\n  return createPortal(\n    <div className={styles.Overlay} onClick={handleBackdropClick}>\n      <div className={styles.modal}>\n        <img src={largeImg} alt=\"\" />\n      </div>\n    </div>,\n    modalRootRef,\n  );\n};\n\nModal.propTypes = {\n  onClose: PropTypes.func,\n  largeImg: PropTypes.string,\n};\n\nexport default Modal;\n","import styles from './ImageGallery.module.css';\nimport { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\n//import { ToastContainer } from 'react-toastify';\n\nimport api from '../../services/api';\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\nimport Modal from '../Modal/Modal.jsx';\nimport Loader from 'react-loader-spinner';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\n\nconst loaderStyle = {\n  position: 'fixed',\n  left: '50%',\n  top: '50%',\n  transform: 'translate(-50%, -50%)',\n};\n\n// window.scrollTo({\n//   top: document.body.scrollHeight,\n//   behavior: 'smooth',\n// });\n\nconst ImageGallery = ({ searchImgName, page, children }) => {\n  const [searchImages, setSearchImages] = useState(null);\n  const [error, setError] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const [largeImg, setLargeImg] = useState(null);\n\n  useEffect(() => {\n    setSearchImages(null);\n  }, [searchImgName]);\n\n  useEffect(() => {\n    if (searchImgName === '') return;\n\n    const getImagesFromApi = (searchImgName, page) => {\n      api(searchImgName, page)\n        .then(searchImages => {\n          setSearchImages(preveImages => {\n            if (preveImages === null) {\n              return [...searchImages.hits];\n            }\n\n            return [...preveImages, ...searchImages.hits];\n          });\n        })\n        .catch(err => setError(err))\n        .finally(() => setLoading(false));\n    };\n\n    setLoading(true);\n    getImagesFromApi(searchImgName, page);\n  }, [searchImgName, page]);\n\n  const onClose = () => {\n    setIsModalOpen(false);\n  };\n\n  const getLargeImg = largeImg => {\n    setLargeImg(largeImg);\n    setIsModalOpen(true);\n  };\n\n  return (\n    <>\n      {error && <p>{error.message}</p>}\n      {loading && (\n        <Loader\n          type=\"Hearts\"\n          color=\"#3F51B5\"\n          height={250}\n          width={250}\n          style={{ ...loaderStyle }}\n          timeout={3000}\n        />\n      )}\n      <ul className={styles.ImageGallery}>\n        {searchImages &&\n          searchImages.map(hit => (\n            <ImageGalleryItem\n              key={hit.id}\n              webformatURL={hit.webformatURL}\n              largeImageURL={hit.largeImageURL}\n              text={hit.tags}\n              onClick={getLargeImg}\n            />\n          ))}\n      </ul>\n      {isModalOpen && <Modal onClose={onClose} largeImg={largeImg} />}\n      {searchImages && searchImages.length > 11 && children}\n    </>\n  );\n};\n\nImageGallery.propTypes = {\n  searchImgName: PropTypes.string,\n  page: PropTypes.number,\n  children: PropTypes.node,\n};\n\nexport default ImageGallery;\n","import styles from './Button.module.css';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst Button = ({ onClick }) => (\r\n  <button type=\"button\" onClick={() => onClick()} className={styles.Button}>\r\n    Load more\r\n  </button>\r\n);\r\n\r\nButton.propTypes = {\r\n  onClick: PropTypes.func,\r\n};\r\n\r\nexport default Button;\r\n","import styles from './App.module.css';\nimport SearchBar from '../Searchbar/Searchbar.jsx';\nimport ImageGallery from '../ImageGallery/ImageGallery.jsx';\nimport Button from '../Button/Button.jsx';\n\n// import React, { Component } from 'react';\nimport { useState } from 'react';\n\nconst App = () => {\n  const [searchImgName, setSearchImgName] = useState('');\n  const [page, setPage] = useState(1);\n\n  const handelFormSubmit = (searchImgName, page) => {\n    setSearchImgName(searchImgName);\n    setPage(page);\n  };\n\n  const onLoadMore = () => {\n    setPage(prevPage => prevPage + 1);\n  };\n\n  return (\n    <div className={styles.App}>\n      <SearchBar onSubmit={handelFormSubmit} />\n      {searchImgName && (\n        <ImageGallery searchImgName={searchImgName} page={page}>\n          <Button onClick={onLoadMore} />\n        </ImageGallery>\n      )}\n    </div>\n  );\n};\n\n// class App extends Component {\n//   state = {\n//     searchImgName: '',\n//     page: 1,\n//   };\n\n//   handelFormSubmit = (searchImgName, page) => {\n//     this.setState({ searchImgName, page });\n//   };\n\n//   onLoadMore = () => {\n//     this.setState(prevState => ({\n//       page: prevState.page + 1,\n//     }));\n//   };\n\n//   render() {\n//     return (\n//       <div className={styles.App}>\n//         <SearchBar onSubmit={this.handelFormSubmit} />\n//         {this.state.searchImgName && (\n//           <ImageGallery\n//             searchImgName={this.state.searchImgName}\n//             page={this.state.page}\n//           >\n//             <Button onClick={this.onLoadMore} />\n//           </ImageGallery>\n//         )}\n//       </div>\n//     );\n//   }\n// }\n\nexport default App;\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App/App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root'),\r\n);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__ER7SV\",\"SearchForm\":\"Searchbar_SearchForm__dBAPT\",\"SearchFormButton\":\"Searchbar_SearchFormButton__2-Q-v\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__2dLka\",\"SearchFormInput\":\"Searchbar_SearchFormInput__4nrNx\"};"],"sourceRoot":""}