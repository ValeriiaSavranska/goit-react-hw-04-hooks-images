{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/App/App.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.jsx","services/api.js","components/ImageGalleryItem/ImageGalleryItem.jsx","components/Modal/Modal.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","components/App/App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","SearchBar","state","searchImgName","page","handelChange","event","setState","currentTarget","value","toLowerCase","handelSubmit","preventDefault","trim","props","onSubmit","className","styles","Searchbar","SearchForm","this","type","SearchFormButton","style","width","height","paddingTop","SearchFormInput","name","onChange","autoComplete","autoFocus","placeholder","Component","BASE_URL","searchParams","URLSearchParams","key","image_type","orientation","per_page","api","fetch","then","response","ok","json","Promise","reject","Error","ImageGalleryItem","webformatURL","largeImageURL","text","onClick","src","alt","modalRootRef","document","querySelector","Modal","onEscPress","e","code","onClose","handleBackdropClick","target","window","addEventListener","removeEventListener","createPortal","Overlay","modal","largeImg","loaderStyle","position","left","top","transform","ImageGallery","searchImages","error","loading","isModalOpen","getLargeImg","getImagesFromApi","preveState","hits","scrollTo","body","scrollHeight","behavior","catch","finally","prevProps","prevState","prevImgName","prevPage","nextImgName","nextPage","message","color","timeout","map","hit","tags","id","length","children","Button","App","handelFormSubmit","onLoadMore","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.81a5804b.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__38X6O\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__12UZQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__3NLG9\",\"Modal\":\"Modal_Modal__2JMFl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__3umpl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__36msv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3z1bF\"};","import styles from './Searchbar.module.css';\r\nimport React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { ImSearch } from 'react-icons/im';\r\n\r\nclass SearchBar extends Component {\r\n  state = {\r\n    searchImgName: '',\r\n    page: 1,\r\n  };\r\n\r\n  handelChange = event => {\r\n    this.setState({ searchImgName: event.currentTarget.value.toLowerCase() });\r\n  };\r\n\r\n  handelSubmit = event => {\r\n    event.preventDefault();\r\n    if (this.state.searchImgName.trim() === '') return;\r\n\r\n    this.props.onSubmit(this.state.searchImgName, this.state.page);\r\n    this.setState({ searchImgName: '', page: 1 });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className={styles.Searchbar}>\r\n        <form className={styles.SearchForm} onSubmit={this.handelSubmit}>\r\n          <button type=\"submit\" className={styles.SearchFormButton}>\r\n            <ImSearch\r\n              style={{ width: '25px', height: '30px', paddingTop: '3px' }}\r\n            />\r\n          </button>\r\n\r\n          <input\r\n            className={styles.SearchFormInput}\r\n            name=\"searchImgName\"\r\n            value={this.state.searchImgName}\r\n            onChange={this.handelChange}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nSearchBar.propTypes = {\r\n  searchImgName: PropTypes.string,\r\n  page: PropTypes.number,\r\n};\r\n\r\nexport default SearchBar;\r\n","const BASE_URL = 'https://pixabay.com/api/';\r\n\r\nconst searchParams = new URLSearchParams({\r\n  key: '24464627-f47c997de86c962dcc3f2ff0b',\r\n  image_type: 'photo',\r\n  orientation: 'horizontal',\r\n  per_page: 12,\r\n});\r\n\r\n//https://pixabay.com/api/?q=cat&page=1&key=your_key&image_type=photo&orientation=horizontal&per_page=12\r\n\r\nconst api = (searchImgName, page = 1) =>\r\n  fetch(`${BASE_URL}?q=${searchImgName}&page=${page}&${searchParams}`).then(\r\n    response => {\r\n      if (response.ok) {\r\n        return response.json();\r\n      }\r\n      return Promise.reject(new Error('Something went wrong try again'));\r\n    },\r\n  );\r\n\r\nexport default api;\r\n","import styles from './ImageGalleryItem.module.css';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst ImageGalleryItem = ({ webformatURL, largeImageURL, text, onClick }) => (\r\n  <li className={styles.ImageGalleryItem}>\r\n    <img\r\n      src={webformatURL}\r\n      alt={text}\r\n      className={styles.ImageGalleryItem}\r\n      onClick={() => onClick(largeImageURL)}\r\n    />\r\n  </li>\r\n);\r\n\r\nImageGalleryItem.propTypes = {\r\n  webformatURL: PropTypes.string,\r\n  largeImageURL: PropTypes.string,\r\n  text: PropTypes.string,\r\n  onClick: PropTypes.func,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import styles from './Modal.module.css';\r\nimport { createPortal } from 'react-dom';\r\nimport { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst modalRootRef = document.querySelector('#modal-root');\r\n\r\nclass Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.onEscPress);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.onEscPress);\r\n  }\r\n\r\n  onEscPress = e => {\r\n    if (e.code === 'Escape') {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  handleBackdropClick = e => {\r\n    if (e.target === e.currentTarget) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return createPortal(\r\n      <div className={styles.Overlay} onClick={this.handleBackdropClick}>\r\n        <div className={styles.modal}>\r\n          <img src={this.props.largeImg} alt=\"\" />\r\n        </div>\r\n      </div>,\r\n      modalRootRef,\r\n    );\r\n  }\r\n}\r\n\r\nModal.propTypes = {\r\n  onClose: PropTypes.func,\r\n  largeImg: PropTypes.string,\r\n};\r\n\r\nexport default Modal;\r\n","import styles from './ImageGallery.module.css';\r\nimport React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport api from '../../services/api';\r\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\r\nimport Modal from '../Modal/Modal.jsx';\r\nimport Loader from 'react-loader-spinner';\r\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\r\n\r\nconst loaderStyle = {\r\n  position: 'fixed',\r\n  left: '50%',\r\n  top: '50%',\r\n  transform: 'translate(-50%, -50%)',\r\n};\r\n\r\nclass ImageGallery extends Component {\r\n  state = {\r\n    searchImages: null,\r\n    error: null,\r\n    loading: false,\r\n    isModalOpen: false,\r\n    largeImg: null,\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.setState({ loading: true });\r\n    this.getImagesFromApi(this.props.searchImgName);\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const prevImgName = prevProps.searchImgName;\r\n    const prevPage = prevProps.page;\r\n    const nextImgName = this.props.searchImgName;\r\n    const nextPage = this.props.page;\r\n\r\n    if (prevImgName !== nextImgName) {\r\n      this.setState({ searchImages: null });\r\n    }\r\n\r\n    if (prevImgName !== nextImgName || prevPage !== nextPage) {\r\n      this.setState({ loading: true });\r\n      this.getImagesFromApi(nextImgName, nextPage);\r\n    }\r\n  }\r\n\r\n  onClose = () => {\r\n    this.setState({ isModalOpen: false });\r\n  };\r\n\r\n  getLargeImg = largeImg => {\r\n    this.setState({ largeImg, isModalOpen: true });\r\n  };\r\n\r\n  getImagesFromApi = (searchImgName, page) => {\r\n    api(searchImgName, page)\r\n      .then(searchImages => {\r\n        this.setState(preveState => {\r\n          if (preveState.searchImages === null) {\r\n            return { searchImages: [...searchImages.hits] };\r\n          }\r\n          return {\r\n            searchImages: [...preveState.searchImages, ...searchImages.hits],\r\n          };\r\n        });\r\n\r\n        window.scrollTo({\r\n          top: document.body.scrollHeight,\r\n          behavior: 'smooth',\r\n        });\r\n      })\r\n      .catch(error => this.setState({ error }))\r\n      .finally(() => this.setState({ loading: false }));\r\n  };\r\n\r\n  render() {\r\n    const { searchImages, loading, error, isModalOpen, largeImg } = this.state;\r\n    return (\r\n      <>\r\n        {error && <p>{error.message}</p>}\r\n        {loading && (\r\n          <Loader\r\n            type=\"Hearts\"\r\n            color=\"#3F51B5\"\r\n            height={250}\r\n            width={250}\r\n            style={{ ...loaderStyle }}\r\n            timeout={3000}\r\n          />\r\n        )}\r\n        <ul className={styles.ImageGallery}>\r\n          {searchImages &&\r\n            searchImages.map(hit => (\r\n              <ImageGalleryItem\r\n                key={hit.id}\r\n                webformatURL={hit.webformatURL}\r\n                largeImageURL={hit.largeImageURL}\r\n                text={hit.tags}\r\n                onClick={this.getLargeImg}\r\n              />\r\n            ))}\r\n        </ul>\r\n        {isModalOpen && <Modal onClose={this.onClose} largeImg={largeImg} />}\r\n        {searchImages && searchImages.length > 11 && this.props.children}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nImageGallery.propTypes = {\r\n  onSubmit: PropTypes.func,\r\n};\r\n\r\nexport default ImageGallery;\r\n","import styles from './Button.module.css';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst Button = ({ onClick }) => (\r\n  <button type=\"button\" onClick={() => onClick()} className={styles.Button}>\r\n    Load more\r\n  </button>\r\n);\r\n\r\nButton.propTypes = {\r\n  onClick: PropTypes.func,\r\n};\r\n\r\nexport default Button;\r\n","import styles from './App.module.css';\r\nimport SearchBar from '../Searchbar/Searchbar.jsx';\r\nimport ImageGallery from '../ImageGallery/ImageGallery.jsx';\r\nimport Button from '../Button/Button.jsx';\r\n\r\nimport React, { Component } from 'react';\r\n\r\nclass App extends Component {\r\n  state = {\r\n    searchImgName: '',\r\n    page: 1,\r\n  };\r\n\r\n  handelFormSubmit = (searchImgName, page) => {\r\n    this.setState({ searchImgName, page });\r\n  };\r\n\r\n  onLoadMore = () => {\r\n    this.setState(prevState => ({\r\n      page: prevState.page + 1,\r\n    }));\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className={styles.App}>\r\n        <SearchBar onSubmit={this.handelFormSubmit} />\r\n        {this.state.searchImgName && (\r\n          <ImageGallery\r\n            searchImgName={this.state.searchImgName}\r\n            page={this.state.page}\r\n          >\r\n            <Button onClick={this.onLoadMore} />\r\n          </ImageGallery>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App/App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root'),\r\n);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__ER7SV\",\"SearchForm\":\"Searchbar_SearchForm__dBAPT\",\"SearchFormButton\":\"Searchbar_SearchFormButton__2-Q-v\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__2dLka\",\"SearchFormInput\":\"Searchbar_SearchFormInput__4nrNx\"};"],"sourceRoot":""}